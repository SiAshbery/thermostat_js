<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Thermostat</title>
  </head>
  <body>
    <script src="src/thermostat.js"></script>
    <script src="jquery.js"></script>
    <script>

    $(document).ready(function() {
    var thermostat = new Thermostat;

      function updateTemperature() {
        $('#temperature').text(thermostat.getCurrentTemperature());
          if (thermostat.getCurrentEnergyUsage() === "low-usage"){
            $('body').css("background-color","green");
          } else if (thermostat.getCurrentEnergyUsage() === "medium-usage"){
            $("body").css("background-color","yellow");
          } else {
            $("body").css("background-color","red");
        };
      };

      updateTemperature();

      $("#temperature-up").click(function() {
        thermostat.up();
        updateTemperature();
      });
      $("#temperature-down").click(function() {
        thermostat.down();
        updateTemperature();
      });
      $("#temperature-reset").click(function() {
        thermostat.reset();
        updateTemperature();
      });
      $("#powersaving-toggle").click(function() {
        thermostat.togglePowerSavingMode();
        $("#powersaving-status").text(thermostat.getCurrentPowerSavingStatus());
        $("#powersaving-toggle").text("PSM " + thermostat.getCurrentPowerSavingStatus());
        $("#temperature").text(thermostat.getCurrentTemperature());
      });

    });
    </script>
    <section>
      <h1 id="temperature"></h1>
      <p>
        <button id="temperature-up">+</button>
        <button id="temperature-down">-</button>
        <button id="temperature-reset">reset</button>
        power saving mode is <span id="powersaving-status">on</span>
        <button id="powersaving-toggle">PSM on</button>
      </p>

    </section>

  </body>
</html>
